(window["jsonp-common-entrypoints"]=window["jsonp-common-entrypoints"]||[]).push([["auto/bootstrap/category-nav/v2/mobile/nav"],{"0IbO":function(t,e,n){t.exports=n("93ev")("0IbO")},"9ka5":function(t,e,n){"use strict";n.d(e,"b",(function(){return l}));n.d(e,"e",(function(){return h}));n.d(e,"d",(function(){return d}));n.d(e,"a",(function(){return u}));n.d(e,"f",(function(){return _}));n.d(e,"c",(function(){return E}));var i=n("jdS7");var s=n("7rax");function a(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:true,configurable:true,writable:true}):t[e]=n;return t}const o={OPEN_ANIMATION_TIMEOUT:200,CLOSE_ANIMATION_TIMEOUT:200,OPEN_READMORE_LABEL:"Less",CLOSED_READMORE_LABEL:"More"};const l={animate:true,oneWay:false,defaultOpen:false,readMore:false,inline:null,readMoreLabelOpen:o.OPEN_READMORE_LABEL,readMoreLabelClosed:o.CLOSED_READMORE_LABEL};const r={trigger:null,contentElement:null,contentSummaryElement:null};const h={IS_CLOSED:"isClosed",IS_OPENING:"isOpening",IS_OPEN:"isOpen",IS_CLOSING:"isClosing"};const c={openState:h.IS_CLOSED};const d={SINGLE:"single",MULTI:"multi"};const u={BTN:"wt-content-toggle--btn",BTN_ICON:"wt-content-toggle--btn__icon",WITH_ICON:"wt-content-toggle--with-icon",IS_ANIMATING:"wt-content-toggle--is-animating",NO_ANIMATION:"wt-content-toggle--no-animation",WIDTH_FULL:"wt-width-full",WIDTH_FLUSH:"wt-width-full wt-content-toggle--flush",BODY:"wt-content-toggle__body",CONDENSED:"wt-content-toggle__body--condensed",READ_MORE_BODY_TRUNCATED:"wt-content-toggle__body--truncated",READ_MORE_SIZE_CLASSES:{small:"wt-content-toggle__body--truncated-01",medium:"wt-content-toggle__body--truncated-02",large:"wt-content-toggle__body--truncated-03",hidden:"wt-content-toggle__body--truncated-00"},WT_CONTENT_TOGGLE:["wt-content-toggle__body","wt-content-toggle__body--truncated","wt-content-toggle__body--truncated-01","wt-content-toggle__body--truncated-02","wt-content-toggle__body--truncated-03","wt-content-toggle__body--truncated-00"],INLINE_CLASSES:{SINGLE:"wt-content-toggle--truncated-inline-single",MULTI:"wt-content-toggle--truncated-inline-multi"},TEXT_TRUNCATE:{SINGLE:"wt-text-truncate",MULTI:"wt-text-truncate--multi-line"}};const m={SMALL:"small",MEDIUM:"medium",LARGE:"large",HIDDEN:"hidden"};const _={FULL:"full",FLUSH:"flush"};const E={BEFORE_OPEN:"wtContentToggleBeforeOpen",OPEN:"wtContentToggleOpen",BEFORE_CLOSE:"wtContentToggleBeforeClose",CLOSE:"wtContentToggleClose",INVALID_SIZE:"wtContentToggleInvalidSize"};class g extends i["a"]{constructor(t,e,n){var i;super();a(this,"options",void 0);a(this,"elements",void 0);a(this,"state",void 0);a(this,"_animationTimeout",void 0);a(this,"initialize",(()=>{}));a(this,"shouldOpen",(()=>this.state.openState===h.IS_CLOSING||this.state.openState===h.IS_CLOSED));a(this,"open",(()=>{if(this.state.openState===h.IS_OPENING||this.state.openState===h.IS_OPEN)return Promise.resolve();this.setState({openState:h.IS_OPENING});this._animationTimeout=new s["a"](this.options.animate?o.OPEN_ANIMATION_TIMEOUT:0);return this._animationTimeout.then((()=>{this.setState({openState:h.IS_OPEN});this._animationTimeout=null}))}));a(this,"close",(()=>{if(this.state.openState===h.IS_CLOSING||this.state.openState===h.IS_CLOSED)return Promise.resolve();this.setState({openState:h.IS_CLOSING});this._animationTimeout=new s["a"](this.options.animate?o.CLOSE_ANIMATION_TIMEOUT:0);return this._animationTimeout.then((()=>{this.setState({openState:h.IS_CLOSED});this._animationTimeout=null}))}));a(this,"toggle",(()=>{this._animationTimeout&&this._animationTimeout.cancel();return this.shouldOpen()?this.open():this.close()}));this.options={...l,...t};this.elements={...r,...n};const d=this.options.defaultOpen?h.IS_OPEN:h.IS_CLOSED;const u=null!==(i=e.openState)&&void 0!==i?i:d;this.state={...c,...e,openState:u};this._animationTimeout=null}}e["g"]=g},AXLb:function(t,e,n){"use strict";n.r(e);var i=n("3a3M");var s=n.n(i);var a=n("Sc5Q");var o=n("V9r9");var l=n("PggL");var r=n("XkxG");var h=n("0IbO");var c=n("w1yB");var d=n("H3fw");var u=n("zxUc");var m=n("uEZf");var _=n("U3LZ");function E(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:true,configurable:true,writable:true}):t[e]=n;return t}const g={MOBILE_CATNAV_WRAPPER:"#mobile-catnav-overlay",TOP_NAV_CATEGORY_CONTAINER:'[data-ui="mobile-top-catnav-container"]',TOP_NAV_CATEGORY_LINK:'[data-ui="mobile-top-nav-category-link"]',SUB_NAV_CATEGORY_CONTAINER:'[data-ui="mobile-sub-catnav-container"]',SUB_NAV_CATEGORY_LINK:'[data-ui="mobile-sub-category-link"]',TER_NAV_CATEGORY_CONTAINER:'[data-ui="mobile-tertiary-catnav-container"]',TER_NAV_CATEGORY_LINK:'[data-ui="mobile-tertiary-category-link"]',ONSALE_LINK:'[data-ui="mobile-catnav-onsale-link"]',MOBILE_CATNAV_BACK_BUTTON:'[data-ui="mobile-catnav-back-btn"]',MOBILE_CATNAV_MENU:"#mobile-catnav-menu",TOP_NAV_TITLE:"#mobile-catnav-header-title",SUB_NAV_TITLE:"#mobile-sub-catnav-header-title",TER_NAV_TITLE:"#mobile-tertiary-catnav-header-title",MODAL_CONTAINER:"#etsy-modal-container",OVERLAY_MASK:"[data-overlay-mask]",OVERLAY_CONTENT_WRAPPER:"[data-overlay-content-wrapper]",GNAV:"#gnav-header-inner",OVERLAY_INNER:'[data-ui="mobile-cat-nav"]',HEADER:'[data-ui="mobile-catnav-header"]',SCROLL_WRAPPER:'[data-ui="mobile-catnav-scroll-wrapper"]',LAZY_IMAGES:"[data-mobile-cat-nav-lazy-image] noscript",MOBILE_TOP_NAV_PROMO:'[data-ui="mobile-top-nav-promo-link"]',MOBILE_SUB_NAV_PROMO:'[data-ui="mobile-sub-nav-promo-link"]',GIFT_GUIDE:"[data-mobile-gift-guide]",CYBER_SALE:"[data-mobile-cyber-sale]",COLLAGE_BUTTONS:".wt-btn",MOBILE_CATNAV_CLOSE_BUTTON:"#category-nav-close-button"};const v="gifting_catnav_flyout_js";const T={DISPLAY_NONE:"wt-display-none",OVERLAY_MASK:"mobile-catnav-overlay-mask",ANIMATIONS:{SLIDE_FROM_LEFT:"wt-animated--slide-from-left",BACK_BUTTON_ENTER:"catnav-animated-drift-left-in",BACK_BUTTON_LEAVE:"catnav-animated-drift-right-out",TITLE_ENTER:"catnav-animated-drift-right-in",TITLE_LEAVE:"catnav-animated-drift-left-out",SUB_NAV_IN:"wt-animated--slide-from-right"}};const N={TRANSITION_END:"transitionend"};const f=640;class p{constructor(t){E(this,"$context",void 0);E(this,"$mobileCatnavMenu",void 0);E(this,"$topNavTitle",void 0);E(this,"$subNavTitle",void 0);E(this,"$terNavTitle",void 0);E(this,"$topNavCategoryLinks",void 0);E(this,"$subNavLinks",void 0);E(this,"$backButton",void 0);E(this,"$searchResults",void 0);E(this,"$overlay",void 0);E(this,"$overlayInner",void 0);E(this,"$gnav",void 0);E(this,"$header",void 0);E(this,"browseTitle",void 0);E(this,"$scrollWrapper",void 0);E(this,"didLoadLazyImages",void 0);E(this,"$lazyImages",void 0);E(this,"$overlayContainer",void 0);E(this,"$overlayMask",void 0);E(this,"$overlayContentWrapper",void 0);E(this,"collageOverlay",void 0);E(this,"$showing",void 0);E(this,"useAccordionMenu",void 0);this.$context=t;this.$mobileCatnavMenu=s()(g.MOBILE_CATNAV_MENU);this.$topNavTitle=s()(g.TOP_NAV_TITLE);this.$subNavTitle=s()(g.SUB_NAV_TITLE);this.$terNavTitle=s()(g.TER_NAV_TITLE);this.$topNavCategoryLinks=this.$context.find(g.TOP_NAV_CATEGORY_LINK);this.$subNavLinks=this.$context.find(g.SUB_NAV_CATEGORY_LINK);this.$backButton=this.$context.find(g.MOBILE_CATNAV_BACK_BUTTON);this.$searchResults=s()(".gnav-search-inner").find("[data-id='search-suggestions']");this.$overlay=s()(g.MOBILE_CATNAV_WRAPPER);this.$overlayInner=this.$overlay.find(g.OVERLAY_INNER);this.$gnav=s()(g.GNAV);this.$header=this.$context.find(g.HEADER);this.browseTitle=this.$header.find("[data-categories-translation]").data("categories-translation");this.$scrollWrapper=this.$context.find(g.SCROLL_WRAPPER);this.$topNavTitle.html(this.browseTitle);this.didLoadLazyImages=false;this.$lazyImages=this.$overlayInner.find(g.LAZY_IMAGES);const e=this.$overlay[0];if(e instanceof HTMLElement&&e.querySelector("[data-overlay-modal]")){const t=c["default"].getBoolean("relocate_cat_nav",false)?{customTrigger:true}:{};this.collageOverlay=new r["a"](e,t)}this.$overlayContainer=s()(g.MODAL_CONTAINER);this.$overlayMask=this.$overlayContainer.find(g.OVERLAY_MASK);this.$overlayContentWrapper=this.$overlayContainer.find(g.OVERLAY_CONTENT_WRAPPER);this.$showing=this.$topNavTitle;this.useAccordionMenu=c["default"].getBoolean("use_accordion_menu",false);this.useAccordionMenu&&this.addCategoryToggleHandlers();m["default"].setup(this.$context);this.bindEvents()}addCategoryToggleHandlers(){const t=document.querySelector('[data-ui="mobile-top-catnav-container"]');if(t){const e=t.querySelectorAll('[data-ui="mobile-top-nav-category-link"] [data-ui="mobile-category-toggle-button"]');let n=null;e.forEach((t=>{t instanceof HTMLElement&&new _["a"](t,{visuallyHideHiddenContentBody:true})}));null===t||void 0===t?void 0:t.addEventListener("click",(t=>{let e=t.target;if(e instanceof HTMLElement&&"BUTTON"!==e.tagName){var i;e="mobile-top-nav-category-link"===(null===(i=e.dataset)||void 0===i?void 0:i.ui)?e.querySelector("button"):e.closest("button")}if(e instanceof HTMLButtonElement&&e.classList.contains("wt-content-toggle--btn")&&n!==e)if(n&&"true"===n.ariaExpanded){n.click();n=e;e.scrollIntoView({behavior:"instant",block:"start"})}else n=e}))}}bindEvents(){this.listenForCategoryNavOpenFromSearchDropdown();this.captureTransitionEnd();this.useAccordionMenu||this.$context.on("click",g.TOP_NAV_CATEGORY_LINK,s.a.proxy(this.onMouseClickInNavItem,this)).on("keydown",g.TOP_NAV_CATEGORY_LINK,s.a.proxy(this.onKeyDownInNavItem,this)).on("click",g.SUB_NAV_CATEGORY_LINK,s.a.proxy(this.onMouseClickInNavItem,this)).on("keydown",g.SUB_NAV_CATEGORY_LINK,s.a.proxy(this.onKeyDownInNavItem,this)).on("click",g.MOBILE_CATNAV_BACK_BUTTON,s.a.proxy(this.onMouseClickBack,this));this.$context.on("click",g.ONSALE_LINK,(()=>{d["default"].logEvent({event_name:"mobile_nav_onsale_click"})})).on("touchstart",g.MOBILE_TOP_NAV_PROMO,(t=>{const e=s()(t.currentTarget).data("eventName");d["default"].logEvent({event_name:"mobile_top_nav_promo_click",promo_name:e})})).on("touchstart",g.MOBILE_SUB_NAV_PROMO,(t=>{const e=s()(t.currentTarget).data("nodeId");d["default"].logEvent({event_name:"mobile_sub_nav_promo_click",node_id:e})})).on("touchstart",g.CYBER_SALE,(()=>{d["default"].logEvent({event_name:"catnav_mobile_sale_clicked"})})).on("touchstart",g.GIFT_GUIDE,(()=>{d["default"].logEvent({event_name:"catnav_mobile_gifts_clicked"})}));c["default"].getBoolean("relocate_cat_nav",false)&&this.$context.on("click",g.MOBILE_CATNAV_CLOSE_BUTTON,(()=>{const t=s()("#global-enhancements-search-query");s()("html, body").animate({scrollTop:t});t.focus()}));this.$overlay.on(l["a"].EVENTS.BEFORE_OPEN,s.a.proxy(this.onBeforeOpen,this));this.$overlay.on(l["a"].EVENTS.CLOSE,s.a.proxy(this.onClose,this));this.$overlay.on(l["a"].EVENTS.BEFORE_OPEN,s.a.proxy(this.onOpen,this))}listenForCategoryNavOpenFromSearchDropdown(){document.addEventListener("categoryNavOpenFromSearchDropdown",(()=>{this.openCatNavOverlay()}))}openCatNavOverlay(){var t;null===(t=this.collageOverlay)||void 0===t?void 0:t.open()}captureTransitionEnd(){this.$context.find(g.COLLAGE_BUTTONS).each(((t,e)=>{e.addEventListener(N.TRANSITION_END,(t=>{t.stopPropagation()}),true)}))}onMouseClickInNavItem(t){d["default"].logEvent({event_name:"mobile_category_nav_click"});const e=c["default"].getBoolean("should_use_buyer_taxo",false);if(e)return;const n=s()(t.currentTarget);const i=n.attr("aria-controls");const o=n.data("name");this.show(`#${i} ul`);if(this.$backButton.hasClass(T.DISPLAY_NONE)){this.show(g.MOBILE_CATNAV_BACK_BUTTON);Object(h["default"])(this.$backButton,T.ANIMATIONS.BACK_BUTTON_ENTER)}if(n.hasClass("top-nav-item")){this.$backButton.data("subnav-id",i);this.$backButton.data("subnav-name",o);this.show(`#${i}-ep`);this.hide(g.TOP_NAV_CATEGORY_CONTAINER);this.hide(g.MOBILE_CATNAV_MENU);this.$subNavTitle.html(o);this.showTitle(this.$subNavTitle,this.$topNavTitle,false,true)}else if(n.hasClass("subnav-item")&&!n.data().isViewAllCategoryLink){this.$backButton.data("ternav-id",i);this.hide(g.SUB_NAV_CATEGORY_CONTAINER);this.$terNavTitle.html(o);this.showTitle(this.$terNavTitle,this.$subNavTitle,false,true)}n.attr("aria-expanded","true");Object(h["default"])(s()(`#${i}`),T.ANIMATIONS.SUB_NAV_IN).then(s.a.proxy((()=>{a["default"].setFocusToFirstFocusableElement(s()(`#${i} ul`),s()(g.MOBILE_CATNAV_CLOSE_BUTTON))}),this))}onKeyDownInNavItem(t){t.which!==o["default"].ENTER&&t.which!==o["default"].SPACE||this.onMouseClickInNavItem(t)}onMouseClickBack(){const t=this.$backButton.data("ternav-id");const e=this.$backButton.data("subnav-id");if("0"!==t){s()(`[aria-controls="${t}"]`).attr("aria-expanded","false");this.hide(`#${t} ul`);this.show(`#${e} ul`);this.showTitle(this.$subNavTitle,this.$terNavTitle,true,true);this.$backButton.data("subnav_name","");this.$backButton.data("ternav-id","0");Object(h["default"])(s()(`#${e}`),T.ANIMATIONS.SLIDE_FROM_LEFT).then(s.a.proxy((()=>{a["default"].setFocusToFirstFocusableElement(s()(`#${e}`),s()(g.MOBILE_CATNAV_CLOSE_BUTTON))}),this))}else{s()(`[aria-controls="${e}"]`).attr("aria-expanded","false");this.hide(`#${e} ul`);this.showTopLevel(true);Object(h["default"])(s()(".mobile-topnav"),T.ANIMATIONS.SLIDE_FROM_LEFT).then(s.a.proxy((()=>{a["default"].setFocusToFirstFocusableElement(s()(".mobile-topnav"),s()(g.MOBILE_CATNAV_CLOSE_BUTTON))}),this))}}onBeforeOpen(){this.$overlayMask.addClass(T.OVERLAY_MASK);this.$overlayContentWrapper.addClass(T.OVERLAY_MASK);this.setOverlayHeight();if(!this.didLoadLazyImages){this.loadLazyImages();this.didLoadLazyImages=true}}onOpen(){a["default"].setFocusToFirstFocusableElement(s()(".mobile-topnav"),s()(g.MOBILE_CATNAV_CLOSE_BUTTON));d["default"].logEvent({event_name:"mobile_category_nav_open",gift_guide_flyout_enabled:c["default"].getBoolean(v,false)})}setOverlayHeight(){const t=this.$gnav.outerHeight();s()(window).width()<f?this.$overlayInner.css({top:`${t}px`,height:`calc(100vh - ${t}px)`}):this.$overlayInner.css({top:"0",height:"100vh"})}loadLazyImages(){this.$lazyImages.each((function(){const t=s()(this);t.replaceWith(t.text())}))}onClose(){const t=this.$backButton.data("ternav-id");const e=this.$backButton.data("subnav-id");this.hide(`#${t} ul`);this.hide(this.$terNavTitle.selector);this.hide(`#${e} ul`);this.showTopLevel(false);this.$overlayMask.removeClass(T.OVERLAY_MASK);this.$overlayContentWrapper.removeClass(T.OVERLAY_MASK);d["default"].logEvent({event_name:"mobile_category_nav_close"})}showTopLevel(t){this.show(g.MOBILE_CATNAV_MENU);this.show("[data-ui=mobile-top-catnav-container]");this.showTitle(this.$topNavTitle,this.$subNavTitle,true,t);this.$backButton.data("subnav-id","0");this.$backButton.hasClass(T.DISPLAY_NONE)||Object(h["default"])(this.$backButton,T.ANIMATIONS.BACK_BUTTON_LEAVE).then((()=>{this.hide(g.MOBILE_CATNAV_BACK_BUTTON)}))}showTitle(t,e,n,i){const s=n?"BACK_BUTTON":"TITLE";t.removeClass(T.DISPLAY_NONE);if(i){t.stop();e.stop();Object(h["default"])(t,T.ANIMATIONS[`${s}_ENTER`]);this.$showing=t;Object(h["default"])(e,T.ANIMATIONS[`${s}_LEAVE`]).then((()=>{this.$showing.is(e)||e.addClass(T.DISPLAY_NONE)}))}else e.addClass(T.DISPLAY_NONE)}show(t){this.$context.find(t).removeClass(T.DISPLAY_NONE).attr("aria-hidden","false");return this}hide(t){this.$context.find(t).addClass(T.DISPLAY_NONE).attr("aria-hidden","true");return this}}var I=n("/wG7");var O=n("ilZA");var A=n("oVvz");const b=function(t){let e=false,n;return function(){if(e)return n;e=true;n=t.apply(this,arguments);return n}};var L=b;var C=n("KWsK");const S=639;const y=900;const M="gifting_catnav_flyout_js";function w(){const t={KEY:"catnav-mobile",NAME:"CategoryNav_V2_Mobile_ApiSpec_CategoryNav"};const e={MOBILE_CAT_NAV:"#mobile-catnav-overlay"};const n=s()(e.MOBILE_CAT_NAV);const i=c["default"].getString("mott_version");const a=c["default"].getBoolean("catnav_show_sales",false);const o=c["default"].getString("catnav_gift_guide","control");const l=c["default"].getBoolean(M,false);const r=c["default"].getBoolean("should_show_registry_on_nav",false);const h=c["default"].getBoolean("should_use_gifting_taxos_in_nav_flyout",false);const d=c["default"].getBoolean("should_use_buyer_taxo",false);let u=0;if(1===n.length){u=n.children().length;if(0===u){const e={mott_version:i,show_sales:a,catnav_gift_guide:o,gifting_catnav_flyout_js:l,should_show_registry_on_nav:r,should_use_gifting_taxos_in_nav_flyout:h,locale:Object(A["default"])(),should_use_buyer_taxo:d};I["default"].fetchOne(t.KEY,t.NAME,e,"GET",true).done((e=>{if(e.output&&e.output[t.KEY]){n.html(e.output[t.KEY]);new p(n)}else C["default"].captureMessage("Mobile CatNav NeuSpec data.output not defined",{level:"info",extra:{specKey:t.KEY,specName:t.NAME,data:e}})}))}else 1===u&&new p(n)}}const B=L(w);function $(){if(s()(window).width()<=y){s()(window).off("resize.catnav-mobile");B();s()(window).width()>S&&d["default"].logEvent({event_name:"md-breakpoint-catnav"})}}if(s()(window).width()>y)s()(window).on("resize.catnav-mobile",Object(O["a"])($,1e3));else{s()(w);s()(window).width()>S&&d["default"].logEvent({event_name:"md-breakpoint-catnav"})}},Sc5Q:function(t,e,n){t.exports=n("93ev")("Sc5Q")},U3LZ:function(t,e,n){"use strict";var i=n("I5vg");var s=n("9ka5");var a=n("laYN");var o=n("oyZd");var l=n("fqFh");var r=n("jdS7");function h(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:true,configurable:true,writable:true}):t[e]=n;return t}const{isInline:c,isMultiInline:d,isSingleInline:u,isSizeInvalid:m,setTabIndexOverrides:_,removeTabIndexOverrides:E,getContentHeight:g}=a["a"];class v extends r["a"]{constructor(t,e={}){super();h(this,"state",{});h(this,"elements",{});h(this,"element",void 0);h(this,"options",void 0);h(this,"contentToggleCore",void 0);h(this,"_validateElements",(()=>{if(this.options.defaultOpen&&this.options.oneWay){false;return false}if(!this.element||!this.element.getAttribute("aria-controls")){false;return false}return true}));h(this,"_initializeElements",(()=>{var t,e;if(!this.element)return;this.elements={trigger:this.element,contentElement:document.getElementById(null!==(t=this.element.getAttribute("aria-controls"))&&void 0!==t?t:""),contentSummaryElement:document.getElementById(null!==(e=this.element.getAttribute("aria-describedby"))&&void 0!==e?e:"")};if(this.elements.trigger&&this.elements.contentElement){this.options.animate||this.elements.trigger.classList.add(s["a"].NO_ANIMATION);this.options.readMore||this.options.oneWay||this.elements.trigger.setAttribute("aria-expanded",`${!!this.options.defaultOpen}`);this.elements.contentElement.setAttribute("aria-hidden",`${!this.options.defaultOpen}`);if(this.options.readMore){var n;this.elements.trigger.innerHTML=this.options.defaultOpen?this.options.readMoreLabelOpen:this.options.readMoreLabelClosed;null===(n=this.elements.contentSummaryElement)||void 0===n?void 0:n.setAttribute("aria-hidden",this.options.defaultOpen?"true":"false");this.elements.trigger.setAttribute("aria-describedby",!this.options.defaultOpen&&this.elements.contentSummaryElement?this.elements.contentSummaryElement.id:"")}if(this._shouldFallbackToSingle()){this._setMultiInlineToSingleInline();this.options.inline=s["d"].SINGLE}}}));h(this,"_setOpenDefaultInline",(()=>{var t,e;null===(t=this.elements.contentElement)||void 0===t?void 0:t.classList.remove(s["a"].TEXT_TRUNCATE.SINGLE);null===(e=this.elements.contentElement)||void 0===e?void 0:e.classList.remove(s["a"].TEXT_TRUNCATE.MULTI)}));h(this,"_shouldFallbackToSingle",(()=>d(this.options)&&!l["default"].cssSupport("-webkit-line-clamp","3")));h(this,"_setMultiInlineToSingleInline",(()=>{this.options.inline=s["d"].SINGLE;if(this.elements.trigger&&this.elements.contentElement){this.elements.trigger.dataset.inline=s["d"].SINGLE;this.elements.contentElement.classList.remove(s["a"].TEXT_TRUNCATE.MULTI);this.elements.contentElement.classList.add(s["a"].TEXT_TRUNCATE.SINGLE);if(this.elements.contentElement.parentNode instanceof Element){this.elements.contentElement.parentNode.classList.remove(s["a"].INLINE_CLASSES.MULTI);this.elements.contentElement.parentNode.classList.add(s["a"].INLINE_CLASSES.SINGLE)}}}));h(this,"_removeContentToggle",(()=>{if(this.elements.contentElement){this.elements.contentElement.classList.remove.apply(this.elements.contentElement.classList,[...s["a"].WT_CONTENT_TOGGLE]);this._removeTrigger()}}));h(this,"_removeTrigger",(()=>{if(this.elements.contentElement&&this.elements.trigger){this.elements.contentElement.setAttribute("aria-hidden","false");this.elements.trigger.parentNode instanceof Element&&this.elements.trigger.parentNode.removeChild(this.elements.trigger);this.elements.trigger=null}}));h(this,"_initializeCore",(()=>{const t={openState:this.options.defaultOpen?s["e"].IS_OPEN:s["e"].IS_CLOSED};this.contentToggleCore=new s["g"](this.options||{},t,this.elements);this.contentToggleCore.initialize();this.contentToggleCore.addListener((t=>{this.handleStateChange(t.openState)}))}));h(this,"handleStateChange",(t=>{switch(t){case s["e"].IS_OPENING:this._handleOpening();break;case s["e"].IS_OPEN:this._handleOpen();break;case s["e"].IS_CLOSING:this._handleClosing();break;case s["e"].IS_CLOSED:this._handleClosed();break;default:break}}));h(this,"_handleOpening",(()=>{if(this.elements.trigger&&(this.elements.contentElement instanceof HTMLDivElement||this.elements.contentElement instanceof HTMLParagraphElement)){this.elements.trigger.dispatchEvent(new CustomEvent(s["c"].BEFORE_OPEN));if(this.options.animate){this.elements.contentElement.classList.add(s["a"].IS_ANIMATING);this.elements.contentElement.style.maxHeight=g(this.elements.contentElement)}null!==this.elements.trigger.getAttribute("aria-expanded")&&this.elements.trigger.setAttribute("aria-expanded","true");this.elements.contentElement.setAttribute("aria-hidden","false");E(this.elements.contentElement);if(this.options.readMore){var t;this.elements.trigger.innerHTML=this.options.readMoreLabelOpen;null===(t=this.elements.contentSummaryElement)||void 0===t?void 0:t.setAttribute("aria-hidden","true");this.elements.trigger.setAttribute("aria-describedby","");document.activeElement===this.elements.trigger&&this.elements.contentElement.focus()}}}));h(this,"_handleOpen",(()=>{if(this.elements.trigger&&this.elements.contentElement){this.elements.trigger.dispatchEvent(new CustomEvent(s["c"].OPEN));if(this.options.animate){this.elements.contentElement.classList.remove(s["a"].IS_ANIMATING);this.elements.contentElement.style.removeProperty("max-height")}this.options.oneWay&&this.elements.trigger&&this._removeTrigger();u(this.options)?this.elements.contentElement.classList.remove(s["a"].TEXT_TRUNCATE.SINGLE):d(this.options)&&this.elements.contentElement.classList.remove(s["a"].TEXT_TRUNCATE.MULTI)}}));h(this,"_handleClosing",(()=>{if(this.elements.trigger&&(this.elements.contentElement instanceof HTMLDivElement||this.elements.contentElement instanceof HTMLParagraphElement)){this.elements.trigger.dispatchEvent(new CustomEvent(s["c"].BEFORE_CLOSE));if("undefined"!==typeof window&&this.options.animate&&!c(this.options)){this.elements.contentElement.style.maxHeight=g(this.elements.contentElement);window.requestAnimationFrame((()=>{if(this.elements.contentElement){this.elements.contentElement.classList.add(s["a"].IS_ANIMATING);this.elements.contentElement.style.maxHeight="0"}}))}null!==this.elements.trigger.getAttribute("aria-expanded")&&this.elements.trigger.setAttribute("aria-expanded","false");_(this.elements.contentElement);if(this.options.readMore){var t;this.elements.trigger.innerHTML=this.options.readMoreLabelClosed;null===(t=this.elements.contentSummaryElement)||void 0===t?void 0:t.setAttribute("aria-hidden","false");this.elements.trigger.setAttribute("aria-describedby",this.elements.contentSummaryElement?this.elements.contentSummaryElement.id:"")}u(this.options)?this.elements.contentElement.classList.add(s["a"].TEXT_TRUNCATE.SINGLE):d(this.options)&&this.elements.contentElement.classList.add(s["a"].TEXT_TRUNCATE.MULTI)}}));h(this,"_handleClosed",(()=>{if(this.elements.trigger&&this.elements.contentElement){this.elements.trigger.dispatchEvent(new CustomEvent(s["c"].CLOSE));if(this.options.animate&&!c(this.options)){this.elements.contentElement.classList.remove(s["a"].IS_ANIMATING);this.elements.contentElement.removeAttribute("style")}this.elements.contentElement.setAttribute("aria-hidden","true")}}));h(this,"toggle",(()=>this.contentToggleCore?this.contentToggleCore.toggle():Promise.resolve()));h(this,"open",(()=>this.contentToggleCore?this.contentToggleCore.open():Promise.resolve()));h(this,"close",(()=>this.contentToggleCore?this.contentToggleCore.close():Promise.resolve()));this.options=s["b"];if(!Object(i["a"])(t,"WtContentToggle - The element provided to the constructor does not exist"))return;this.element=t;this.options={...s["b"],...e,...Object(o["a"])(this.element)};if(this._validateElements()){this._initializeElements();if(!this.options.defaultOpen&&this.elements.contentElement&&(this.elements.contentElement instanceof HTMLDivElement||this.elements.contentElement instanceof HTMLParagraphElement)&&m(this.elements.contentElement,this.options)){this.elements.contentElement.dispatchEvent(new CustomEvent(s["c"].INVALID_SIZE));this._removeContentToggle();return}this._initializeCore();(this.elements.contentElement instanceof HTMLDivElement||this.elements.contentElement instanceof HTMLParagraphElement)&&!this.options.defaultOpen&&_(this.elements.contentElement);c(this.options)&&this.options.defaultOpen&&this._setOpenDefaultInline();this.elements.trigger&&this.contentToggleCore&&this.elements.trigger.addEventListener("click",this.contentToggleCore.toggle.bind(this.contentToggleCore))}}}e["a"]=v},laYN:function(t,e,n){"use strict";var i=n("x499");var s=n("9ka5");const a={isElementVisible(t){return"undefined"!==typeof window&&null!==t.offsetParent},getContentHeight(t){if(0===t.scrollHeight)return"auto";return`${t.scrollHeight}px`},getInnerHeight(t){if("undefined"===typeof window)return 0;const{paddingTop:e,paddingBottom:n,marginTop:i,marginBottom:s}=window.getComputedStyle(t);return t.scrollHeight-parseInt(e,10)-parseInt(n,10)-parseInt(i,10)-parseInt(s,10)},getInnerWidth(t){if("undefined"===typeof window)return 0;const{paddingLeft:e,paddingRight:n,marginLeft:i,marginRight:s}=window.getComputedStyle(t);return t.scrollWidth-parseInt(e,10)-parseInt(n,10)-parseInt(i,10)-parseInt(s,10)},isInline({inline:t}){return"string"===typeof t&&t.length>0},isMultiInline({inline:t}){return t===s["d"].MULTI},isSingleInline({inline:t}){return t===s["d"].SINGLE},isWidthInvalid(t,{inline:e}){if(!a.isElementVisible(t))return false;if(!a.isSingleInline({inline:e}))return false;return a.getInnerWidth(t)<=t.offsetWidth+1},isHeightInvalid(t,{inline:e,readMore:n}){if(!a.isElementVisible(t))return false;if(!a.isMultiInline({inline:e})&&!n)return false;return a.getInnerHeight(t)<=t.offsetHeight},isSizeInvalid(t,e){return a.isWidthInvalid(t,e)||a.isHeightInvalid(t,e)},removeTabIndexOverrides(t){i["a"].makeActive(t)},setTabIndexOverrides(t){i["a"].makeInert(t)}};e["a"]=a},uEZf:function(t,e,n){"use strict";n.r(e);var i=n("3a3M");var s=n.n(i);var a=n("H3fw");var o=n("w1yB");var l=n("TVrR");var r=n("Z2Mz");function h(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:true,configurable:true,writable:true}):t[e]=n;return t}class c{constructor(t){h(this,"eventCallback",void 0);h(this,"batches",void 0);this.eventCallback=t;this.batches={}}addNewBatch(t,e,n,i,s){this.batches[t]={totalItems:s,targetBatchSize:i,eventData:n,eventName:e,currBatchCount:0,itemsSeenCount:0}}clearBatch(t){const e=this.batches[t];if(void 0!==e){e.eventData={};e.currBatchCount=0}}addToBatch(t,e){const n=this.batches[t];if(n){const t=Object.keys(n.eventData).length>0?n.eventData:e.common||{};const i=e.view||{};Object.keys(i).forEach((e=>{const n=i[e];if(t[e]){var s;null===(s=t[e])||void 0===s?void 0:s.push(n)}else t[e]=[n]}));n.eventData=t;n.currBatchCount++;n.itemsSeenCount++}}shouldClearBatch(t){const e=this.batches[t];if(e)return e.currBatchCount===e.targetBatchSize||e.itemsSeenCount===e.totalItems;return false}logAndClearBatch(t){const e=this.batches[t];if(e){this.eventCallback(e.eventName,e.eventData);this.clearBatch(t)}}handleBatchItem(t,e,n){const{total_items:i,key:s,size:a}=t;this.batches[s]||this.addNewBatch(s,e,n.common||{},a,i);this.addToBatch(s,n);this.shouldClearBatch(s)&&this.logAndClearBatch(s)}}var d=c;var u=n("OHqh");const m=function(t,e){let n;if("recommendations_module"===e["rec_event_name"]){n=`${e["rec_event_name"]}_seen`;r["default"].increment(`neu.appears_logger.recommendations_module_seen.${e["module_placement"]}`,.1)}else n=`${t}_seen`;a["default"].logEvent(s.a.extend({event_name:n},e))};const _=new d(m);const E=function(t){const e=s()(t).data("logger-id");const n=e?o["default"].getString(`${e}.component_name`):s()(t).data("appears-component-name");if(n){let i=e?JSON.parse(o["default"].getString(`${e}.event_data`)):s()(t).data("appears-event-data");if(i&&i.common&&i.common.skip_logging)return;const a=s()(t).data("appears-batch-options")||false;if(a){_.handleBatchItem(a,n,i);return}s.a.isPlainObject(i)||(i={});const l=s()(t).data("appears-log-breakpoint");l&&(i["browser_breakpoint"]=u["default"].getCurrentBreakpoint());m(n,i)}else r["default"].increment("neu.appears_logger.unknown_component")};const g={setup(t){const e="[data-appears-component-name], [data-logger-id]";const n=t?t.find(e):s()(e);n.each(((t,e)=>{const n=e.querySelectorAll(":scope > :not(.appears-ready)");n.forEach((t=>{Object(l["default"])(t,(()=>{E(e)}),{threshold:s()(e).data("offset")||.5})}))})).children().addClass("appears-ready")}};var v=e["default"]=g},x499:function(t,e,n){"use strict";var i=n("DPM2");function s(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:true,configurable:true,writable:true}):t[e]=n;return t}class a{constructor(){s(this,"inertDOMTrees",void 0);this.inertDOMTrees=[]}makeInert(t){const e=this.inertDOMTrees.find((e=>e.root.element===t));void 0===e&&this.inertDOMTrees.push(this.addInertAttributesToTree(t))}makeActive(t){const e=this.inertDOMTrees.filter((e=>e.root.element===t))[0];if(void 0!==e){this.removeInertAttributesFromTree(e);this.inertDOMTrees=this.inertDOMTrees.filter((e=>e.root.element!==t))}}addInertAttributesToTree(t){const e=this.addInertAttributesToElement(t);t.setAttribute("aria-hidden","true");const n=Object(i["b"])(t);const s={root:e,subElements:[]};n.forEach((t=>{t instanceof HTMLElement&&s.subElements.push(this.addInertAttributesToElement(t))}));return s}removeInertAttributesFromTree(t){this.removeInertAttributesFromElement(t.root);t.root.element.setAttribute("aria-hidden","false");t.subElements.forEach((t=>{this.removeInertAttributesFromElement(t)}))}addInertAttributesToElement(t){const e=t.getAttribute("tabindex");t.setAttribute("tabindex","-1");return{element:t,originalTabIndex:e}}removeInertAttributesFromElement(t){t.originalTabIndex?t.element.setAttribute("tabindex",t.originalTabIndex):t.element.removeAttribute("tabindex")}}const o=new a;e["a"]=o}}]);
//# sourceMappingURL=https://www.etsy.com/sourcemaps/evergreenVendor/en-IN/async/common-entrypoints/auto/bootstrap/category-nav/v2/mobile/nav.950b4519a8b5b0864e78.js.map